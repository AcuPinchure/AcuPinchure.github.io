(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{5214:function(e,t,n){Promise.resolve().then(n.bind(n,5218)),Promise.resolve().then(n.bind(n,5415)),Promise.resolve().then(n.bind(n,2591)),Promise.resolve().then(n.t.bind(n,8173,23)),Promise.resolve().then(n.bind(n,5710)),Promise.resolve().then(n.bind(n,7833))},5710:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var i=n(7437),r=n(7597),s=n(6598),c=n(2520),l=n(3719),a=n(5519),o=n(2265),d=n(8027),h=n(6223),u=n(5426),p=e=>{let{title:t,participants:n}=e,s=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!s.current)return;let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&function(){if(!s.current)return;let{x:e,y:t}=s.current.getBoundingClientRect(),n=s.current.querySelectorAll(".participant");n.forEach(e=>{let{x:n,y:i}=e.getBoundingClientRect();e.style.top="".concat(t-i+400,"px"),e.style.left="".concat(-n,"px")}),setTimeout(()=>{n.forEach((e,t)=>{e.style.transition="all 0.5s ".concat(.05*t,"s"),e.style.top="0px",e.style.left="0px",e.style.opacity="1"})},100)}()})},{threshold:.5});return e.observe(s.current),()=>{e.disconnect()}},[]),(0,i.jsxs)(d.Z,{sx:{minHeight:"9rem",padding:"1rem"},ref:s,children:[(0,i.jsxs)(l.Z,{variant:"h6",children:[t," (",n.length,"人)"]}),n.map((e,t)=>(0,i.jsx)(r.Z,{position:"relative",m:1,display:"inline-block",className:"participant",sx:{opacity:0},children:(0,i.jsx)(h.Z,{title:e.name,arrow:!0,children:(0,i.jsx)(u.Z,{sx:{fontWeight:"bold",bgcolor:e.color},children:e.name[0]})})},e.name))]})},f=n(3647),x=()=>{let[e,t]=(0,o.useState)({title:"",description:"",link:"",avaliableDates:[],price:"",participants:[]}),[n,d]=(0,o.useState)(!0),h=(0,o.useRef)(null);return(0,o.useEffect)(()=>{d(!0),fetch("https://api.acupinchure.com/simple-data/escape-data.json",{mode:"cors"}).then(e=>(console.log(e),e.json())).then(e=>{let n=["#7215de","#2923db","#6df609","#d3dd8a","#6faa56","#acd8c0","#6e7452","#246415","#924cb9","#713831","#c0ebee","#f0f0f0"];e.participants.forEach((e,t)=>{e.color=n[t%n.length]}),t(e),d(!1)})},[]),(0,i.jsxs)(r.Z,{p:2,children:[(0,i.jsx)(s.Z,{direction:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",id:"description",spacing:2,children:n?(0,i.jsx)(c.Z,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{variant:"h3",children:e.title}),(0,i.jsxs)(l.Z,{variant:"body1",children:["費用: ",e.price]}),(0,i.jsx)(l.Z,{variant:"body1",children:e.description}),e.link&&(0,i.jsx)(a.Z,{variant:"outlined",color:"info",endIcon:(0,i.jsx)(f.O,{}),href:e.link,target:"_blank",children:"介紹網頁"})]})}),(0,i.jsxs)(s.Z,{direction:"column",alignItems:"stretch",minHeight:"100vh",id:"participants",p:2,boxSizing:"border-box",spacing:2,ref:h,children:[(0,i.jsx)(l.Z,{variant:"h4",children:"主揪可以的時間 & 大家可以的時間"}),n?(0,i.jsx)(r.Z,{textAlign:"center",children:(0,i.jsx)(c.Z,{})}):e.avaliableDates.map((t,n)=>(0,i.jsx)(p,{title:t,participants:e.participants.filter(e=>e.avaliableDates.includes(n))},n))]})]})}},7833:function(e,t,n){"use strict";var i=n(7437),r=n(5519);t.default=e=>{let{component:t,elementId:n,children:s,buttonProps:c,anchorStyle:l}=e,a=()=>{let e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth"})};return"button"===t?(0,i.jsx)(r.Z,{...c,onClick:a,children:s}):(0,i.jsx)("a",{onClick:a,style:l,children:s})}}},function(e){e.O(0,[701,519,360,113,430,971,23,744],function(){return e(e.s=5214)}),_N_E=e.O()}]);